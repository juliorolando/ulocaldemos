<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Admin â€” Burger del Fin del Mundo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --red:       #D41B1B;
            --yellow:    #FFCC00;
            --green:     #16a34a;
            --dark:      #111111;
            --bg:        #F4F4F5;
            --card:      #FFFFFF;
            --border:    #E4E4E7;
            --text:      #18181B;
            --muted:     #71717A;
            --warn:      #F59E0B;
            --danger:    #EF4444;
            --radius:    10px;
            --header-h:  56px;
            --savebar-h: 60px;
            --sidebar-w: 190px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        /* â”€â”€ LOGIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #login-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        .login-box {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2.5rem 2rem;
            width: 100%;
            max-width: 360px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
        }

        .login-logo { text-align: center; margin-bottom: 1.5rem; }
        .login-logo .brand { font-size: 1.1rem; font-weight: 700; color: var(--red); letter-spacing: 0.03em; }
        .login-logo .sub { font-size: 0.78rem; color: var(--muted); margin-top: 2px; }

        .demo-pill {
            display: inline-block;
            background: #fef9c3;
            color: #854d0e;
            border: 1.5px solid #ca8a04;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0.15rem 0.6rem;
            margin-top: 6px;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .login-hint {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.6rem 0.9rem;
            font-size: 0.8rem;
            color: var(--muted);
            margin-bottom: 1rem;
            text-align: center;
        }
        .login-hint strong { color: var(--text); }

        .login-box h2 { font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; text-align: center; }

        .login-error {
            background: #FEE2E2;
            color: var(--danger);
            border-radius: 8px;
            padding: 0.6rem 0.9rem;
            font-size: 0.83rem;
            margin-bottom: 1rem;
            display: none;
        }
        .login-error.visible { display: block; }

        /* â”€â”€ CAMPOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .field { margin-bottom: 1rem; }
        .field label {
            display: block;
            font-size: 0.78rem;
            font-weight: 600;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.35rem;
        }
        .field input {
            width: 100%;
            padding: 0.55rem 0.75rem;
            border: 1.5px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: inherit;
            color: var(--text);
            background: #fff;
            outline: none;
            transition: border-color .15s;
        }
        .field input:focus { border-color: var(--red); }
        .field input:disabled {
            background: var(--bg);
            color: var(--muted);
            cursor: not-allowed;
            border-color: var(--border);
        }

        .char-counter { font-size: 0.72rem; color: var(--muted); text-align: right; margin-top: 3px; }

        /* â”€â”€ BOTONES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 8px;
            font-size: 0.88rem;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: opacity .15s, transform .1s;
            text-decoration: none;
        }
        .btn:active { transform: scale(0.98); }
        .btn-primary { background: var(--red); color: #fff; }
        .btn-ghost   {
            background: transparent;
            color: rgba(255,255,255,0.75);
            border: 1.5px solid rgba(255,255,255,0.25);
        }
        .btn-ghost:hover { color: #fff; border-color: rgba(255,255,255,0.6); }
        .btn-full { width: 100%; justify-content: center; }
        .btn-sm   { padding: 0.35rem 0.75rem; font-size: 0.78rem; }

        /* â”€â”€ ADMIN SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #admin-screen { display: none; }
        #admin-screen.visible { display: flex; flex-direction: column; min-height: 100vh; }

        /* Header */
        .admin-header {
            background: var(--dark);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.5rem;
            height: var(--header-h);
            position: sticky;
            top: 0;
            z-index: 100;
            flex-shrink: 0;
        }
        .admin-header .title { font-size: 0.95rem; font-weight: 700; letter-spacing: 0.04em; display: flex; align-items: center; gap: 10px; }
        .admin-header .title span { color: var(--yellow); }
        .header-actions { display: flex; align-items: center; gap: 0.5rem; }

        /* Badge demo en header */
        .demo-header-badge {
            background: #fef9c3;
            color: #854d0e;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 700;
            padding: 0.2rem 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        /* â”€â”€ BODY: SIDEBAR + MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .admin-body { display: flex; flex: 1; }

        /* Sidebar */
        .admin-sidebar {
            width: var(--sidebar-w);
            flex-shrink: 0;
            background: var(--card);
            border-right: 1px solid var(--border);
            padding: 1.25rem 0;
            position: sticky;
            top: var(--header-h);
            height: calc(100vh - var(--header-h) - var(--savebar-h));
            overflow-y: auto;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.7rem 1.25rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--muted);
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all .15s;
            user-select: none;
        }
        .nav-item:hover { background: var(--bg); color: var(--text); }
        .nav-item.active {
            color: var(--red);
            border-left-color: var(--red);
            background: #fef2f2;
            font-weight: 600;
        }
        .nav-icon { font-size: 1rem; line-height: 1; }

        /* Main */
        .admin-main {
            flex: 1;
            padding: 2rem 1.5rem calc(var(--savebar-h) + 2rem);
            overflow-y: auto;
            min-width: 0;
            height: calc(100vh - var(--header-h));
        }

        /* Tabs */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .panel-title {
            font-size: 0.72rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--muted);
            margin-bottom: 1.25rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        /* â”€â”€ MOBILE: sidebar â†’ top tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        @media (max-width: 720px) {
            .admin-body { flex-direction: column; }
            .admin-sidebar {
                width: 100%;
                height: auto;
                position: static;
                display: flex;
                flex-direction: row;
                padding: 0;
                border-right: none;
                border-bottom: 1px solid var(--border);
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            .nav-item {
                border-left: none;
                border-bottom: 3px solid transparent;
                padding: 0.75rem 1.1rem;
                flex-shrink: 0;
                white-space: nowrap;
                justify-content: center;
            }
            .nav-item.active {
                border-left-color: transparent;
                border-bottom-color: var(--red);
                background: transparent;
                color: var(--red);
            }
            .admin-main { height: auto; padding-bottom: calc(var(--savebar-h) + 1rem); }
        }

        /* â”€â”€ IMAGEN (solo lectura) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .img-readonly {
            position: relative;
            width: 100%;
            aspect-ratio: 4/3;
            border-radius: 8px;
            overflow: hidden;
            border: 1.5px solid var(--border);
            background: var(--bg);
            margin-bottom: 0.5rem;
        }
        .img-readonly img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .img-readonly-label {
            position: absolute;
            bottom: 6px;
            right: 8px;
            background: rgba(0,0,0,0.55);
            color: #fff;
            font-size: 0.65rem;
            font-weight: 600;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
        }

        /* â”€â”€ GRID DE 8 CARDS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }
        @media (max-width: 1100px) { .cards-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 800px)  { .cards-grid { grid-template-columns: repeat(2, 1fr); } }

        .edit-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .edit-card .card-num {
            font-size: 0.72rem;
            font-weight: 700;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }
        .card-topbar { display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; }
        .edit-card.card-dimmed { opacity: 0.45; border-color: #ef4444 !important; border-style: dashed !important; }

        /* â”€â”€ PRODUCTO DESTACADO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .featured-editor {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.5rem;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 1.5rem;
            align-items: start;
        }
        @media (max-width: 700px) { .featured-editor { grid-template-columns: 1fr; } }

        /* â”€â”€ TABLA BEBIDAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .bev-table { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; }
        .bev-table-header, .bev-row {
            display: grid;
            grid-template-columns: 2rem 1fr 110px 80px;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1rem;
        }
        .bev-table-header {
            background: var(--bg);
            font-size: 0.72rem;
            font-weight: 700;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.06em;
            border-bottom: 1px solid var(--border);
        }
        .bev-row { border-bottom: 1px solid var(--border); }
        .bev-row:last-child { border-bottom: none; }
        .bev-icon { width: 28px; height: 28px; object-fit: contain; }
        .bev-row .field { margin-bottom: 0; }
        .bev-row .field input { padding: 0.4rem 0.6rem; font-size: 0.85rem; }
        .bev-row.row-dimmed { opacity: 0.45; background: #fff5f5; }

        /* â”€â”€ SAVE BAR (demo) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .save-bar {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            background: #1c1917;
            border-top: 3px solid #ca8a04;
            padding: 0.9rem 1.5rem;
            height: var(--savebar-h);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            z-index: 200;
        }
        .demo-bar-msg {
            font-size: 0.82rem;
            color: #ca8a04;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* â”€â”€ BADGES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .badge-selector { display: flex; gap: 0.4rem; flex-wrap: wrap; }
        .badge-option {
            font-size: 0.72rem;
            font-weight: 700;
            text-transform: uppercase;
            padding: 0.3rem 0.6rem;
            border-radius: 5px;
            border: 1.5px solid var(--border);
            user-select: none;
            pointer-events: none;
        }
        .badge-option[data-badge="none"] { background: #f4f4f5; color: var(--muted); }
        .badge-option[data-badge="hot"]  { background: #fee2e2; color: var(--danger); border-color: var(--danger); }
        .badge-option[data-badge="new"]  { background: #fef9c3; color: #854d0e; border-color: #ca8a04; }
        .badge-option[data-badge="veg"]  { background: #dcfce7; color: #166534; border-color: var(--green); }
        .badge-option.selected { box-shadow: 0 0 0 2px currentColor; }
        .badge-option[data-badge="none"].selected { box-shadow: 0 0 0 2px #a1a1aa; }

        /* Toggle ocultar (demo: solo visual) */
        .toggle-hide {
            width: 100%;
            padding: 0.28rem 0.4rem;
            border-radius: 6px;
            font-size: 0.69rem;
            font-weight: 700;
            font-family: inherit;
            white-space: nowrap;
            border: 1.5px solid;
            text-align: center;
            display: block;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .toggle-hide.is-visible { background: #fef2f2; color: #ef4444; border-color: #ef4444; }
        .toggle-hide.is-hidden  { background: #dcfce7; color: #16a34a; border-color: #16a34a; }

        /* Shake */
        @keyframes shake {
            0%,100% { transform: translateX(0); }
            20%,60%  { transform: translateX(-8px); }
            40%,80%  { transform: translateX(8px); }
        }
        .shake { animation: shake 0.4s ease; }
    </style>
</head>
<body>

<!-- â•â•â• LOGIN â•â•â• -->
<div id="login-screen">
    <div class="login-box">
        <div class="login-logo">
            <div class="brand">Burger del Fin del Mundo</div>
            <div class="sub">Panel de AdministraciÃ³n</div>
            <div><span class="demo-pill">Vista demo</span></div>
        </div>
        <h2>Acceso Demo</h2>
        <div class="login-hint">
            Usuario: <strong>demo</strong> Â· ContraseÃ±a: <strong>demo</strong>
        </div>
        <div class="login-error" id="login-error">Credenciales incorrectas.</div>
        <form id="login-form">
            <div class="field">
                <label>Usuario</label>
                <input type="text" id="login-user" autocomplete="username" required value="demo">
            </div>
            <div class="field">
                <label>ContraseÃ±a</label>
                <input type="password" id="login-pass" autocomplete="current-password" required value="demo">
            </div>
            <button type="submit" class="btn btn-primary btn-full" style="margin-top:.5rem">
                Ver demo
            </button>
        </form>
        <div style="margin-top:1rem;text-align:center;">
            <div style="font-size:0.75rem;color:var(--muted);margin-bottom:0.6rem;">Â¿QuerÃ©s una versiÃ³n real para tu negocio?</div>
            <a href="https://wa.me/5492901410793?text=Hola%2C%20estuve%20viendo%20la%20demo%20del%20panel%20de%20administraci%C3%B3n%20y%20me%20interesa%20para%20mi%20negocio."
               target="_blank"
               class="btn btn-full"
               style="background:#25D366;color:#fff;">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                </svg>
                Quiero mi versiÃ³n real
            </a>
        </div>
    </div>
</div>

<!-- â•â•â• ADMIN DEMO â•â•â• -->
<div id="admin-screen">

    <header class="admin-header">
        <div class="title">
            <span>Burger del Fin del Mundo</span> â€” Admin
            <span class="demo-header-badge">Demo</span>
        </div>
        <div class="header-actions">
            <a href="/demos/fastfood.html" target="_blank" class="btn btn-ghost btn-sm">Ver pantalla â†’</a>
            <button class="btn btn-ghost btn-sm" id="btn-logout">Salir</button>
        </div>
    </header>

    <div class="admin-body">

        <!-- SIDEBAR -->
        <aside class="admin-sidebar">
            <div class="nav-item active" id="nav-burgers" onclick="switchTab('burgers')">
                <span class="nav-icon">ğŸ”</span>
                <span>Burgers</span>
            </div>
            <div class="nav-item" id="nav-bebidas" onclick="switchTab('bebidas')">
                <span class="nav-icon">ğŸ¥¤</span>
                <span>Bebidas</span>
            </div>
            <div class="nav-item" id="nav-destacado" onclick="switchTab('destacado')">
                <span class="nav-icon">â­</span>
                <span>Destacado</span>
            </div>
        </aside>

        <!-- MAIN -->
        <main class="admin-main">

            <!-- TAB BURGERS -->
            <div class="tab-panel active" id="tab-burgers">
                <div class="panel-title">MenÃº â€” 8 Productos</div>
                <div class="cards-grid" id="cards-editor"><!-- JS --></div>
            </div>

            <!-- TAB BEBIDAS -->
            <div class="tab-panel" id="tab-bebidas">
                <div class="panel-title">Bebidas (12 Ã­tems)</div>
                <div class="bev-table">
                    <div class="bev-table-header">
                        <div></div>
                        <div>Nombre</div>
                        <div>Precio</div>
                        <div>Estado</div>
                    </div>
                    <div id="bev-editor"><!-- JS --></div>
                </div>
            </div>

            <!-- TAB DESTACADO -->
            <div class="tab-panel" id="tab-destacado">
                <div class="panel-title">Producto Destacado (panel derecho)</div>
                <div class="featured-editor" id="featured-editor"><!-- JS --></div>
            </div>

        </main>
    </div>

    <!-- DEMO BAR -->
    <div class="save-bar">
        <div class="demo-bar-msg">
            ğŸ”’ Modo Demo â€” Solo lectura. Los cambios no se guardan.
        </div>
        <a href="https://wa.me/5492901410793?text=Hola%2C%20estuve%20viendo%20la%20demo%20del%20panel%20y%20me%20interesa%20para%20mi%20negocio."
           target="_blank"
           class="btn"
           style="background:#25D366;color:#fff;font-size:0.8rem;padding:0.4rem 0.9rem;">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
            Quiero la versiÃ³n real
        </a>
    </div>

</div><!-- /admin-screen -->

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ESTADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let menu = null;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function switchTab(tab) {
    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById('tab-' + tab).classList.add('active');
    document.getElementById('nav-' + tab).classList.add('active');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HELPERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function fieldHTML(id, label, value, maxLen) {
    return `
        <div class="field">
            <label>${label}</label>
            <input type="text"
                   id="${id}"
                   value="${escHtml(value)}"
                   maxlength="${maxLen}"
                   disabled>
            <div class="char-counter">${value.length}/${maxLen}</div>
        </div>`;
}

function escHtml(str) {
    return String(str)
        .replace(/&/g, '&amp;')
        .replace(/"/g, '&quot;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;');
}

/* Imagen solo lectura (sin input file) */
function imgReadonlyHTML(wrapId, src) {
    return `
        <div class="img-readonly" id="${wrapId}">
            <img id="${wrapId}-img" src="${src}" alt="">
            <span class="img-readonly-label">Solo lectura</span>
        </div>`;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER â€” PRODUCTO DESTACADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderFeaturedEditor(featured) {
    document.getElementById('featured-editor').innerHTML = `
        ${imgReadonlyHTML('feat-img', featured.image)}
        <div>
            ${fieldHTML('feat-name',  'Nombre (mÃ¡x 16 chars)',                   featured.name,        16)}
            ${fieldHTML('feat-desc',  'DescripciÃ³n ingredientes (mÃ¡x 55 chars)', featured.description, 55)}
            ${fieldHTML('feat-price', 'Precio (mÃ¡x 8 chars)',                    featured.price,        8)}
        </div>`;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER â€” 8 CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const BADGE_LABELS = { none: 'Sin badge', hot: 'ğŸ”¥ Picante', new: 'â˜… Nuevo', veg: 'ğŸŒ¿ Veggie' };

function badgeSelectorHTML(currentBadge) {
    const val = currentBadge || 'none';
    return `
        <div class="field">
            <label>Badge</label>
            <div class="badge-selector">
                ${Object.entries(BADGE_LABELS).map(([key, label]) => `
                    <span class="badge-option ${val === key ? 'selected' : ''}"
                          data-badge="${key}">${label}</span>`).join('')}
            </div>
        </div>`;
}

function renderCardsEditor(items) {
    document.getElementById('cards-editor').innerHTML = items.map((item, idx) => {
        const isHidden = item.hidden === true;
        return `
        <div class="edit-card ${isHidden ? 'card-dimmed' : ''}" id="item-card-${idx}">
            <div class="card-topbar">
                <div class="card-num">Producto #${item.id}</div>
                <button class="toggle-hide ${isHidden ? 'is-hidden' : 'is-visible'}"
                        style="width:auto;padding:0.25rem 0.55rem" disabled>
                    ${isHidden ? 'âœ“ Mostrar' : 'âŠ˜ Ocultar'}
                </button>
            </div>
            ${imgReadonlyHTML(`item-img-${idx}`, item.image)}
            ${fieldHTML(`item-name-${idx}`,  'Nombre (mÃ¡x 14)',       item.name,        14)}
            ${fieldHTML(`item-desc-${idx}`,  'DescripciÃ³n (mÃ¡x 28)',  item.description, 28)}
            ${fieldHTML(`item-price-${idx}`, 'Precio (mÃ¡x 8)',        item.price,        8)}
            ${badgeSelectorHTML(item.badge)}
        </div>`;
    }).join('');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RENDER â€” BEBIDAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function renderBevEditor(beverages) {
    const OPENMOJI = 'https://openmoji.org/data/color/svg/';
    document.getElementById('bev-editor').innerHTML = beverages.map((b, i) => {
        const isHidden = b.hidden === true;
        return `
        <div class="bev-row ${isHidden ? 'row-dimmed' : ''}" id="bev-row-${i}">
            <img class="bev-icon" src="${OPENMOJI}${b.icon}.svg" alt="">
            <div class="field">
                <input type="text" value="${escHtml(b.name)}" maxlength="18" disabled>
                <div class="char-counter">${b.name.length}/18</div>
            </div>
            <div class="field">
                <input type="text" value="${escHtml(b.price)}" maxlength="8" disabled>
                <div class="char-counter">${b.price.length}/8</div>
            </div>
            <div>
                <button class="toggle-hide ${isHidden ? 'is-hidden' : 'is-visible'}" disabled>
                    ${isHidden ? 'Mostrar' : 'Ocultar'}
                </button>
            </div>
        </div>`;
    }).join('');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOGIN (via /api/demo-login)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.getElementById('login-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const user = document.getElementById('login-user').value;
    const pass = document.getElementById('login-pass').value;
    const err  = document.getElementById('login-error');
    try {
        const res = await fetch('/api/demo-login', {
            method:  'POST',
            headers: { 'Content-Type': 'application/json' },
            body:    JSON.stringify({ username: user, password: pass })
        });
        if (!res.ok) {
            err.classList.add('visible');
            document.getElementById('login-form').classList.add('shake');
            setTimeout(() => document.getElementById('login-form').classList.remove('shake'), 400);
            return;
        }
        err.classList.remove('visible');
        showAdminScreen();
    } catch {
        err.textContent = 'Error de conexiÃ³n. VerificÃ¡ que el servidor estÃ© activo.';
        err.classList.add('visible');
    }
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOGOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.getElementById('btn-logout').addEventListener('click', async () => {
    await fetch('/api/logout', { method: 'POST' });
    document.getElementById('admin-screen').classList.remove('visible');
    document.getElementById('login-screen').style.display = 'flex';
    menu = null;
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOSTRAR ADMIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function showAdminScreen() {
    document.getElementById('login-screen').style.display = 'none';
    document.getElementById('admin-screen').classList.add('visible');
    try {
        const res = await fetch('/api/menu');
        menu = await res.json();
        renderFeaturedEditor(menu.featured);
        renderCardsEditor(menu.items);
        renderBevEditor(menu.beverages);
    } catch (err) {
        alert('Error al cargar el menÃº: ' + err.message);
    }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INIT â€” verifica sesiÃ³n demo activa
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(async () => {
    try {
        const res  = await fetch('/api/demo-session');
        const data = await res.json();
        if (data.authenticated) showAdminScreen();
    } catch { /* queda en login */ }
})();
</script>
</body>
</html>
